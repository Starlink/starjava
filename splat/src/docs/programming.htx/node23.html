<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">

<!--Converted with LaTeX2HTML 2009-1 (1.71)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Scripted Objects</TITLE>
<META NAME="description" CONTENT="Scripted Objects">
<META NAME="keywords" CONTENT="programming">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META NAME="Generator" CONTENT="LaTeX2HTML v2009-1">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="programming.css">

<LINK REL="next" HREF="node25.html">
<LINK REL="previous" HREF="node22.html">
<LINK REL="up" HREF="node19.html">
<LINK REL="next" HREF="node24.html">
</HEAD>

<BODY >
<BR> <HR>
<A NAME="tex2html395"
  HREF="node24.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html393"
  HREF="node19.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html387"
  HREF="node22.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A>   <A HREF="programming.html#stardoccontents"><IMG
 WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0"
 SRC="contents_motif.gif"
 ALT="134"></A>
<BR>
<B> Next:</B> <A NAME="tex2html396"
  HREF="node24.html">Inner Class Style</A>
<BR>
<B>Up:</B> <A NAME="tex2html394"
  HREF="node19.html">BeanShell User's Manual</A>
<BR>
<B> Previous:</B> <A NAME="tex2html388"
  HREF="node22.html">Scripted Methods</A>
<BR> <HR> <P>

<!--End of Navigation Panel-->

<H2><A NAME="SECTION00054000000000000000">
Scripted Objects</A>
</H2>

<P>
In BeanShell, as in JavaScript and Perl, method `closures' allow you
to create scripted objects.  You can turn the results of a method call
into an object reference by having the method return the special value
<TT>this</TT>.  You can then use that reference to refer to
any variables set in the method call.  To make useful objects you need
instance methods of course so in BeanShell methods may also contain
methods at any level.
<BLOCKQUOTE>
<PRE>
    foo() {
        print("foo");
        x=5;

        bar() {
            print("bar");
        }

        return this;
    }

    myfoo = foo();    // prints "foo"
    print( myfoo.x ); // prints "5"
    myfoo.bar();      // prints "bar"
</PRE>
</BLOCKQUOTE>

<P>
You may also cast your scripted objects (<I>e.g.</I> myfoo above) to any Java
interface type and supply the necessary methods in the script.

<P>
<BR><HR>
<!--Table of Child-Links-->
<A NAME="CHILD_LINKS"><STRONG>Subsections</STRONG></A>

<UL>
<LI><A NAME="tex2html397"
  HREF="node24.html">Inner Class Style</A>
</UL>
<!--End of Table of Child-Links-->
<BR> <HR>
<A NAME="tex2html395"
  HREF="node24.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html393"
  HREF="node19.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html387"
  HREF="node22.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A>   <A HREF="programming.html#stardoccontents"><IMG
 WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0"
 SRC="contents_motif.gif"
 ALT="134"></A>
<BR>
<B> Next:</B> <A NAME="tex2html396"
  HREF="node24.html">Inner Class Style</A>
<BR>
<B>Up:</B> <A NAME="tex2html394"
  HREF="node19.html">BeanShell User's Manual</A>
<BR>
<B> Previous:</B> <A NAME="tex2html388"
  HREF="node22.html">Scripted Methods</A>
<BR> <HR> <P>

<!--End of Navigation Panel-->
<ADDRESS>
<I>SPLAT - A Spectral Analysis Tool<BR>Starlink Document programming<BR>Peter W. Draper<BR>21 December 2001<BR>E-mail:<A HREF="mailto:starlink@jiscmail.ac.uk">starlink@jiscmail.ac.uk</A><BR><BR>Copyright (C) 2001-2005 Council for the Central Laboratory of the Research Councils<br>Copyright (C) 2006-2007 Particle Physics and Astronomy Research Council<br>Copyright (C) 2007-2009 Science and Technology Facilities Council<BR></I>
</ADDRESS>
</BODY>
</HTML>
